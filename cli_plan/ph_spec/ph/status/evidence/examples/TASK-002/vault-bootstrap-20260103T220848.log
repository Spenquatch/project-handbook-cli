â†’ Checking Vault availability at http://127.0.0.1:8200...
   âœ… Vault reachable
â†’ Ensuring kv (v2) secret engine mounted at /kv...
   âš ï¸  kv mount already exists
   âš ï¸  TWENTY_API_KEY is not set and not present in Vault. Provide it via env or seed Vault at kv/data/tribuence/v2/router to enable authenticated Twenty probes.
â†’ Phase A: seeding Vault KV entries (boot-safe + defaults)
â†’ Writing Next secrets to kv/data/tribuence/v2/next...
   âœ… Next secrets written
â†’ Writing Router secrets to kv/data/tribuence/v2/router...
   âœ… Router secrets written
â†’ Writing Context secrets to kv/data/tribuence/v2/context...
   âœ… Context secrets written
â†’ Writing AnythingLLM secrets to kv/data/tribuence/v2/anythingllm...
   âœ… AnythingLLM secrets written
â†’ Phase B: minting service-derived keys (AnythingLLM API key)
   âœ… Compose service 'anythingllm' available for exec
â†’ Requesting AnythingLLM container to mint API key...
â†’ Writing AnythingLLM (minted API key) secrets to kv/data/tribuence/v2/anythingllm...
   âœ… AnythingLLM (minted API key) secrets written
   âœ… Minted AnythingLLM API key into Vault (value not printed)

ğŸš€ Vault v2 bootstrap complete. Summary:
  - Vault address: http://127.0.0.1:8200
  - Mount: kv (version 2)
  - Secrets paths:
      - kv/data/tribuence/v2/next
      - kv/data/tribuence/v2/router
      - kv/data/tribuence/v2/context
      - kv/data/tribuence/v2/anythingllm

Override defaults by exporting env vars before running this script, e.g.:
  export TWENTY_API_KEY=your-token
  export OPENAI_API_KEY=sk-...
  export KEYCLOAK_CLIENT_SECRET=your-secret
  V2_VAULT_MINT_ANYLLM_API_KEY=true bash v2/scripts/vault/bootstrap-v2.sh
