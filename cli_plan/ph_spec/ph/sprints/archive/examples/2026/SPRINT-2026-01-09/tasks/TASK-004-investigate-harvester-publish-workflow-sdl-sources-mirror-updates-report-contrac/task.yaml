id: TASK-004
title: Investigate: Harvester publish workflow (SDL sources, mirror updates, report contract) + codegen wiring
feature: v2_schema-harvester-service
lane: registry/publish
decision: DR-0006
session: research-discovery
owner: @spenser
status: done
story_points: 3
depends_on: [TASK-005]
prio: P2
due: 2026-01-16
acceptance:
  - `ph/decision-register/DR-0006-harvester-publish-and-codegen-workflow.md` completed (Option A/B + evidence + recommendation) and ends with an explicit operator/user approval request; keep DR as `Proposed` until approval.
  - `ph/features/v2_schema-harvester-service/implementation/IMPLEMENTATION.md` updated with an execution-ready harvester plan (SDL sources, publish/check sequencing, mirror writepoints, report contract, sanitization posture).
  - `ph/features/v2_codegen-from-registry/implementation/IMPLEMENTATION.md` updated with the canonical codegen wiring (local + CI) and its dependency on publish/check.
  - Evidence captured under `ph/status/evidence/TASK-004/` (repo inspection outputs referenced by DR-0006 and the execution-ready plan).
links:
  - ../../../../../releases/current/plan.md
  - ../../../../../features/v2_schema-harvester-service/overview.md
  - ../../../../../features/v2_codegen-from-registry/overview.md
  - ../../../../../adr/0019-v2-codegen-from-registry.md
  - ../../../../../adr/0021-v2-schema-harvester-service.md
